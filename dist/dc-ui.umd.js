(function(t,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue")):typeof define=="function"&&define.amd?define(["vue"],c):(t=typeof globalThis<"u"?globalThis:t||self,t.dcui=c(t.Vue))})(this,function(t){"use strict";const c=(e,n=1)=>{if(typeof e!="string"||!e)return;e=e.trim().replace(/^#/,""),e.length===3&&(e=e.split("").map(l=>l+l).join(""));const r=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16);return`rgba(${r}, ${a}, ${s}, ${n})`},b={__name:"index",props:{type:{type:String,default:"tag"},options:{type:Array,default:null},value:[Number,String,Array]},setup(e){const n=e,r=t.computed(()=>{const a=(s,l)=>{for(const o of s){if(o.value==l||o.label==l)return o;if(o.children&&Array.isArray(o.children)){const i=a(o.children,l);if(i)return i}}return null};return Array.isArray(n.options)?a(n.options,n.value)||{value:n.value,label:n.value,textColor:"#666",bgColor:"#ebeef5"}:{value:n.value,label:n.value,textColor:"#666",bgColor:"#ebeef5"}});return(a,s)=>{var l,o,i,u,d,f,y,m,g;return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.type==="tag"?(t.openBlock(),t.createElementBlock("span",t.mergeProps({key:0},a.$attrs,{style:{background:((l=r.value)==null?void 0:l.bgColor)||t.unref(c)((o=r.value)==null?void 0:o.remark,.1),color:((i=r.value)==null?void 0:i.textColor)||t.unref(c)((u=r.value)==null?void 0:u.remark,1)},class:"dict"}),t.toDisplayString(((d=r.value)==null?void 0:d.label)||e.value||"-"),17)):t.createCommentVNode("",!0),e.type==="text"?(t.openBlock(),t.createElementBlock("span",t.normalizeProps(t.mergeProps({key:1},a.$attrs)),t.toDisplayString(((f=r.value)==null?void 0:f.label)||"-"),17)):t.createCommentVNode("",!0),e.type==="tag"&&((y=r.value)!=null&&y.listClass)?(t.openBlock(),t.createElementBlock("span",t.mergeProps({key:2},a.$attrs,{class:["dict",(m=r.value)==null?void 0:m.listClass]}),t.toDisplayString(((g=r.value)==null?void 0:g.label)||"-"),17)):t.createCommentVNode("",!0)],64)}}},k={__name:"index",props:{type:{type:String,default:""},options:{type:Array,default:null},value:[Number,String,Array],color:{type:String,default:null}},setup(e){const n=e,r=t.computed(()=>{const a=(s,l)=>{for(const o of s){if(o.dictKey===l)return o;if(o.children&&Array.isArray(o.children)){const i=a(o.children,l);if(i)return i}}return null};return Array.isArray(n.options)&&n.options.length&&a(n.options,n.value)||n.value});return(a,s)=>{var l,o;return t.openBlock(),t.createElementBlock("span",{class:t.normalizeClass(["dict",(l=r.value)==null?void 0:l.listClass]),style:t.normalizeStyle({color:e.color})},t.toDisplayString(((o=r.value)==null?void 0:o.label)||"-"),7)}}},C={style:{display:"inline-block"}},A={__name:"index",setup(e){const n=t.inject("globalConfig");return console.log(n,"globalConfig"),(r,a)=>(t.openBlock(),t.createElementBlock("div",C,t.toDisplayString(t.unref(n)),1))}};let p={};const B=e=>{p.cacheData=e==null?void 0:e.cacheData,console.log("setGlobalConfig:",p,"config:",e)};return{install(e,n){e.provide("globalConfig",p),e.component("dc-dict",b),e.component("dc-dict-key",k),e.component("dc-view",A),B(n)}}});
